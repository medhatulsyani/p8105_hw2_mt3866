---
title: "p8105_hw2_mt3866"
output: github_document
---

First, load the tidyverse library

```{r}
library(tidyverse)
```

Importing the data sets we are using

```{r}
pols_df =
  read_csv("fivethirtyeight_datasets/pols-month.csv")

unemployment_df =
  read_csv("fivethirtyeight_datasets/unemployment.csv")

snp_df =
  read_csv("fivethirtyeight_datasets/snp.csv")

```

Clean names in pols-months data set, separate into year month and day, make year and day integers while month is a character word. Now, remove prez_dem prez_gop and the day variable, and make a president variable taking values gop and dem.

```{r}
pols_df=
    read_csv("fivethirtyeight_datasets/pols-month.csv") |>
    janitor::clean_names() |>
    separate(mon, into = c("year", "month", "day"), sep = "-") |>
    mutate(
      year = as.integer(year),
      month = as.integer(month),
      day = as.integer(day),
      month = month.name[month]
    ) |>
  mutate(president = prez_dem + prez_gop
         ) 
  pols_df = select(pols_df, -day, -prez_dem, -prez_gop)
```

Clean the data in snp.csv using a similar process to the above. Arrange according to year and month, and organize so that year and month are the leading columns.

```{r}
snp_df=
    read_csv("fivethirtyeight_datasets/snp.csv") |>
    janitor::clean_names() |>
    separate(date, into = c("month", "day", "year"), sep = "/") |>
    select(-day) |>
    mutate(
      year = as.integer(year),
      month = as.integer(month),
      month = month.name[month]
    ) |>
  select(year, month, everything())|>
    arrange(year, month)

```

Tidy the unemployment data so that it can be merged with the previous datasets.
```{r}
library(readxl)
library(haven)
unemployment_df=
  read_csv("fivethirtyeight_datasets/unemployment.csv") |>
  janitor::clean_names() |>
  pivot_longer(
    cols = jan:dec,
    names_to = "month"
  )
```

Join the datasets by merging snp into pols, and merging unemployment into the result.

```{r}
pols_df=
  
```

